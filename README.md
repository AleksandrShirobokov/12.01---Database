# 12.01-«Базы данных»
# Александр Широбоков
### Легенда. Заказчик передал вам файл в формате Excel, в котором сформирован отчёт.
*На основе этого отчёта нужно выполнить следующие задания.*
## Задание 1
*Опишите не менее семи таблиц, из которых состоит база данных:*

**В базе данных представлены следующие таблицы:**
```
1. Сотрудники (
 - идентификатор: серийный ключ (serial),
 - фамилия: varchar(50),
 - имя: varchar(50),
 - отчество: varchar(50),
 - должность_id: внешний ключ, integer (ссылается на таблицу Должности),
 - подразделение_id: внешний ключ, integer (ссылается на таблицу Структурные подразделения)
)
2. Должности (
 - идентификатор: серийный ключ (serial),
 - название: varchar(50)
)
3. Структурные подразделения (
 - идентификатор: серийный ключ (serial),
 - название: varchar(50),
 - тип_id: внешний ключ, integer (ссылается на таблицу Типы подразделений)
)
4. Типы подразделений (
 - идентификатор: серийный ключ (serial),
 - название: varchar(50)
)
5. Адреса филиалов (
 - идентификатор: серийный ключ (serial),
 - город_id: внешний ключ, integer (ссылается на таблицу Города),
 - регион_id: внешний ключ, integer (ссылается на таблицу Регионы),
 - адрес: varchar(100)
)
6. Города (
 - идентификатор: серийный ключ (serial),
 - название: varchar(50),
 - регион_id: внешний ключ, integer (ссылается на таблицу Регионы)
)
7. Регионы (
 - идентификатор: серийный ключ (serial),
 - название: varchar(50)
)
```

## Задание 2*
*Перечислите, какие, на ваш взгляд, в этой денормализованной таблице встречаются функциональные зависимости и какие правила вывода нужно применить, чтобы нормализовать данные.*

**В данной денормализованной таблице встречаются следующие функциональные зависимости:**

 - В таблице "Сотрудники" имеется функциональная зависимость идентификатора от фамилии, имени и отчества. То есть, зная идентификатор, можно определить фамилию, имя и отчество сотрудника.

 - В таблице "Сотрудники" имеются функциональные зависимости должности_id от должности и подразделения_id от структурного подразделения. Зная идентификаторы должности и структурного подразделения, можно определить соответствующие значения.

 - В таблице "Структурные подразделения" имеется функциональная зависимость типа_id от типа подразделения. Зная идентификатор типа подразделения, можно определить соответствующее значение типа_id.

 - В таблице "Адреса филиалов" имеются функциональные зависимости филиал_id от филиала, город_id от города и регион_id от региона. Зная идентификаторы филиала, города и региона, можно определить соответствующие значения.

**Для нормализации данных и устранения функциональных зависимостей, можно применить следующие правила:**

 1. Разбить таблицу "Сотрудники" на две таблицы: "Сотрудники" и "Персональная информация". В таблице "Сотрудники" должны присутствовать только данные, относящиеся к идентификации сотрудника (идентификатор, фамилия, имя, отчество). В таблице "Персональная информация" должны храниться данные, которые могут изменяться (должность_id, подразделение_id).

 2. Разделить таблицу "Адреса филиалов" на две таблицы: "Адреса филиалов" и "Филиалы". В таблице "Адреса филиалов" должны содержаться только данные об адресах (идентификатор, филиал_id, город_id, регион_id, адрес). В таблице "Филиалы" должны находиться данные о филиалах (идентификатор, название).

 3. Создать таблицу "Персональная информация" с информацией о должностях, включающую идентификатор и название должности.

 4. Создать таблицу "Типы подразделений" с информацией о типах подразделений, включающую идентификатор и название типа.

**Таким образом, после нормализации данных будут иметься следующие таблицы:**

 - Сотрудники (идентификатор, фамилия, имя, отчество)
 - Персональная информация (идентификатор, должность_id, подразделение_id)
 - Должности (идентификатор, название)
 - Структурные подразделения (идентификатор, название, тип_id)
 - Типы подразделений (идентификатор, название)
 - Адреса филиалов (идентификатор, филиал_id, город_id, регион_id, адрес)
 - Филиалы (идентификатор, название)
 - Города (идентификатор, название, регион_id)
 - Регионы (идентификатор, название)
 
 После нормализации данных каждая таблица будет содержать только уникальные значения, и функциональные зависимости будут правильно организованы.
























